<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lorenz Attractor - Interactive Parameters</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #000;
            color: white;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            height: 100vh;
        }
        
        .container {
            display: flex;
            height: 100vh;
        }
        
        .animation-panel {
            flex: 1;
            position: relative;
            background: #000;
        }
        
        .info-panel {
            width: 380px;
            background: rgba(20, 20, 40, 0.95);
            padding: 25px;
            border-left: 3px solid #333;
            overflow-y: auto;
        }
        
        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        h1 {
            color: #4fc3f7;
            font-size: 2em;
            margin-bottom: 8px;
            text-shadow: 0 0 20px rgba(79, 195, 247, 0.5);
        }
        
        .subtitle {
            color: #ff4081;
            font-size: 1em;
            margin-bottom: 20px;
        }
        
        .equations {
            background: rgba(0, 0, 0, 0.6);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #444;
        }
        
        .equation {
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            margin: 6px 0;
            color: #4fc3f7;
        }
        
        .parameters-panel {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border: 1px solid #444;
        }
        
        .param-control {
            margin: 12px 0;
        }
        
        .param-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.9em;
        }
        
        .param-name {
            color: #4fc3f7;
            font-weight: bold;
        }
        
        .param-value {
            color: #ff4081;
            font-family: 'Courier New', monospace;
        }
        
        input[type="range"] {
            width: 100%;
            height: 6px;
            background: #333;
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            background: #4fc3f7;
            border-radius: 50%;
            cursor: pointer;
        }
        
        input[type="range"]::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background: #4fc3f7;
            border-radius: 50%;
            cursor: pointer;
            border: none;
        }
        
        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin: 15px 0;
        }
        
        button {
            background: linear-gradient(45deg, #4fc3f7, #29b6f6);
            border: none;
            padding: 10px;
            border-radius: 6px;
            color: #000;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.85em;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 195, 247, 0.4);
        }
        
        .status {
            background: rgba(0, 0, 0, 0.5);
            padding: 12px;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 0.85em;
        }
        
        .axis-label {
            position: absolute;
            color: #888;
            font-size: 14px;
            font-weight: bold;
            pointer-events: none;
            z-index: 10;
        }
        
        .preset-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin: 10px 0;
        }
        
        .preset-btn {
            background: linear-gradient(45deg, #ff4081, #e91e63);
            font-size: 0.8em;
            padding: 8px;
        }
        
        .reset-params {
            background: linear-gradient(45deg, #00e676, #00c853);
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="animation-panel">
            <canvas id="lorenzCanvas"></canvas>
            <div id="xAxisLabel" class="axis-label">X</div>
            <div id="yAxisLabel" class="axis-label">Y</div>
            <div id="zAxisLabel" class="axis-label">Z</div>
        </div>
        
        <div class="info-panel">
            <h1>ü¶ã Lorenz Attractor</h1>
            <div class="subtitle">Interactive Chaos Theory</div>
            
            <div class="equations">
                <h3>üìê Lorenz System Equations</h3>
                <div class="equation">dx/dt = œÉ(y - x)</div>
                <div class="equation">dy/dt = x(œÅ - z) - y</div>
                <div class="equation">dz/dt = xy - Œ≤z</div>
            </div>
            
            <div class="parameters-panel">
                <h3>üéõÔ∏è System Parameters</h3>
                
                <div class="param-control">
                    <div class="param-label">
                        <span class="param-name">œÉ (Sigma)</span>
                        <span class="param-value" id="sigmaValue">10.0</span>
                    </div>
                    <input type="range" id="sigmaSlider" min="1" max="20" step="0.1" value="10">
                </div>
                
                <div class="param-control">
                    <div class="param-label">
                        <span class="param-name">œÅ (Rho)</span>
                        <span class="param-value" id="rhoValue">28.0</span>
                    </div>
                    <input type="range" id="rhoSlider" min="10" max="50" step="0.1" value="28">
                </div>
                
                <div class="param-control">
                    <div class="param-label">
                        <span class="param-name">Œ≤ (Beta)</span>
                        <span class="param-value" id="betaValue">2.67</span>
                    </div>
                    <input type="range" id="betaSlider" min="0.5" max="5" step="0.01" value="2.67">
                </div>
                
                <div class="preset-buttons">
                    <button class="preset-btn" onclick="setPreset('classic')">Classic</button>
                    <button class="preset-btn" onclick="setPreset('butterfly')">Butterfly</button>
                    <button class="preset-btn" onclick="setPreset('spiral')">Spiral</button>
                    <button class="preset-btn" onclick="setPreset('chaotic')">Highly Chaotic</button>
                </div>
                
                <button class="reset-params" onclick="resetParameters()">Reset Parameters</button>
            </div>
            
            <div class="controls">
                <button onclick="resetSystem()">üîÑ Reset</button>
                <button onclick="togglePause()">‚è∏Ô∏è Pause</button>
                <button onclick="changeColors()">üé® Colors</button>
                <button onclick="toggleRotation()">üîÑ Rotate</button>
                <button onclick="increaseSpeed()">‚ö° Faster</button>
                <button onclick="decreaseSpeed()">üê¢ Slower</button>
                <button onclick="toggleAxes()">üìê Axes</button>
                <button onclick="randomStart()">üé≤ Random</button>
            </div>
            
            <div class="status">
                <strong>Current Values:</strong><br>
                <div id="currentValues">x: 0.00, y: 0.00, z: 0.00</div>
                <br>
                <strong>Points Drawn:</strong><br>
                <div id="pointsValue">0</div>
                <br>
                <strong>View Angle:</strong><br>
                <div id="angleValue">0¬∞</div>
            </div>
            
            <div style="margin-top: 15px; font-size: 0.75em; color: #888; text-align: center;">
                Adjust parameters to explore different chaotic behaviors!
            </div>
        </div>
    </div>

    <script>
        // Canvas setup
        const canvas = document.getElementById('lorenzCanvas');
        const ctx = canvas.getContext('2d');
        
        // Set canvas size
        function resizeCanvas() {
            const container = canvas.parentElement;
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
            updateAxisLabels();
        }
        
        // Lorenz system parameters - now editable
        let sigma = 10;
        let rho = 28;
        let beta = 8/3;
        
        // Initial conditions
        let x = 0.1;
        let y = 0;
        let z = 0;
        
        // Animation control
        let dt = 0.01;
        let scale = 8;
        let points = [];
        const maxPoints = 2000;
        let isPaused = false;
        let rotationAngle = 0;
        let autoRotate = true;
        let showTrail = true;
        let showAxes = true;
        
        // Color system
        let colorScheme = 0;
        const colorSchemes = [
            { background: '#000011', trail: '#4fc3f7', current: '#ff4081', x: '#ff4444', y: '#44ff44', z: '#4444ff' },
            { background: '#0a0a2a', trail: '#00e676', current: '#ff9100', x: '#ff6b6b', y: '#51cf66', z: '#339af0' },
            { background: '#1a001a', trail: '#e040fb', current: '#18ffff', x: '#ff4757', y: '#2ed573', z: '#3742fa' }
        ];
        
        // Initialize
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);
        
        // Setup parameter sliders
        function setupSliders() {
            const sigmaSlider = document.getElementById('sigmaSlider');
            const rhoSlider = document.getElementById('rhoSlider');
            const betaSlider = document.getElementById('betaSlider');
            
            sigmaSlider.addEventListener('input', function() {
                sigma = parseFloat(this.value);
                document.getElementById('sigmaValue').textContent = sigma.toFixed(1);
                resetSystem();
            });
            
            rhoSlider.addEventListener('input', function() {
                rho = parseFloat(this.value);
                document.getElementById('rhoValue').textContent = rho.toFixed(1);
                resetSystem();
            });
            
            betaSlider.addEventListener('input', function() {
                beta = parseFloat(this.value);
                document.getElementById('betaValue').textContent = beta.toFixed(2);
                resetSystem();
            });
        }
        
        // Parameter presets
        function setPreset(type) {
            const sigmaSlider = document.getElementById('sigmaSlider');
            const rhoSlider = document.getElementById('rhoSlider');
            const betaSlider = document.getElementById('betaSlider');
            
            switch(type) {
                case 'classic':
                    sigmaSlider.value = 10;
                    rhoSlider.value = 28;
                    betaSlider.value = 2.67;
                    break;
                case 'butterfly':
                    sigmaSlider.value = 10;
                    rhoSlider.value = 28;
                    betaSlider.value = 2.67;
                    break;
                case 'spiral':
                    sigmaSlider.value = 10;
                    rhoSlider.value = 14;
                    betaSlider.value = 2.67;
                    break;
                case 'chaotic':
                    sigmaSlider.value = 16;
                    rhoSlider.value = 45;
                    betaSlider.value = 4;
                    break;
            }
            
            // Trigger the input events to update values
            sigmaSlider.dispatchEvent(new Event('input'));
            rhoSlider.dispatchEvent(new Event('input'));
            betaSlider.dispatchEvent(new Event('input'));
        }
        
        function resetParameters() {
            setPreset('classic');
        }
        
        // Update axis labels position based on rotation
        function updateAxisLabels() {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const labelDistance = 180;
            
            const xLabelX = centerX + Math.cos(rotationAngle) * labelDistance;
            const xLabelY = centerY + Math.sin(rotationAngle) * labelDistance;
            
            const yLabelX = centerX + Math.cos(rotationAngle + Math.PI/2) * labelDistance;
            const yLabelY = centerY + Math.sin(rotationAngle + Math.PI/2) * labelDistance;
            
            const zLabelX = centerX + Math.cos(rotationAngle + Math.PI) * labelDistance * 0.7;
            const zLabelY = centerY + Math.sin(rotationAngle + Math.PI) * labelDistance * 0.7;
            
            document.getElementById('xAxisLabel').style.left = xLabelX + 'px';
            document.getElementById('xAxisLabel').style.top = xLabelY + 'px';
            document.getElementById('xAxisLabel').style.color = colorSchemes[colorScheme].x;
            
            document.getElementById('yAxisLabel').style.left = yLabelX + 'px';
            document.getElementById('yAxisLabel').style.top = yLabelY + 'px';
            document.getElementById('yAxisLabel').style.color = colorSchemes[colorScheme].y;
            
            document.getElementById('zAxisLabel').style.left = zLabelX + 'px';
            document.getElementById('zAxisLabel').style.top = zLabelY + 'px';
            document.getElementById('zAxisLabel').style.color = colorSchemes[colorScheme].z;
            
            document.getElementById('angleValue').textContent = Math.round(rotationAngle * 180/Math.PI) + '¬∞';
        }
        
        // Lorenz equations
        function lorenz(x, y, z) {
            return {
                dx: sigma * (y - x),
                dy: x * (rho - z) - y,
                dz: x * y - beta * z
            };
        }
        
        // Update system
        function update() {
            if (isPaused) return;
            
            const { dx, dy, dz } = lorenz(x, y, z);
            x += dx * dt;
            y += dy * dt;
            z += dz * dt;
            
            points.push({ 
                x: x * scale, 
                y: y * scale, 
                z: z * scale
            });
            
            if (points.length > maxPoints) {
                points.shift();
            }
            
            if (autoRotate) {
                rotationAngle += 0.002;
                updateAxisLabels();
            }
            
            document.getElementById('currentValues').textContent = 
                `x: ${x.toFixed(2)}, y: ${y.toFixed(2)}, z: ${z.toFixed(2)}`;
            document.getElementById('pointsValue').textContent = points.length;
        }
        
        // Draw proper 3D coordinate system
        function drawCoordinateSystem(centerX, centerY) {
            if (!showAxes) return;
            
            const colors = colorSchemes[colorScheme];
            const axisLength = 160;
            
            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.rotate(rotationAngle);
            
            ctx.lineWidth = 2;
            ctx.setLineDash([]);
            
            // X Axis (Red)
            ctx.strokeStyle = colors.x;
            ctx.beginPath();
            ctx.moveTo(-axisLength, 0);
            ctx.lineTo(axisLength, 0);
            ctx.stroke();
            
            // Y Axis (Green)
            ctx.strokeStyle = colors.y;
            ctx.beginPath();
            ctx.moveTo(0, -axisLength);
            ctx.lineTo(0, axisLength);
            ctx.stroke();
            
            // Z Axis (Blue)
            ctx.strokeStyle = colors.z;
            ctx.setLineDash([5, 3]);
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(-axisLength * 0.8, axisLength * 0.8);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Axis arrows
            drawArrow(axisLength, 0, colors.x, 10);
            drawArrow(0, -axisLength, colors.y, 10);
            drawArrow(-axisLength * 0.8, axisLength * 0.8, colors.z, 10);
            
            ctx.restore();
        }
        
        function drawArrow(x, y, color, size) {
            ctx.fillStyle = color;
            ctx.save();
            ctx.translate(x, y);
            
            const angle = Math.atan2(y, x);
            ctx.rotate(angle);
            
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(-size, -size/2);
            ctx.lineTo(-size, size/2);
            ctx.closePath();
            ctx.fill();
            
            ctx.restore();
        }
        
        // Drawing functions
        function draw() {
            const colors = colorSchemes[colorScheme];
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            
            ctx.fillStyle = colors.background + '08';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            drawCoordinateSystem(centerX, centerY);
            
            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.rotate(rotationAngle);
            
            if (showTrail && points.length > 1) {
                ctx.lineWidth = 2.5;
                
                for (let i = 0; i < points.length - 1; i++) {
                    const p1 = points[i];
                    const p2 = points[i + 1];
                    const alpha = 0.2 + (i / points.length) * 0.8;
                    
                    ctx.strokeStyle = `rgba(79, 195, 247, ${alpha})`;
                    
                    ctx.beginPath();
                    ctx.moveTo(p1.x, p1.y);
                    ctx.lineTo(p2.x, p2.y);
                    ctx.stroke();
                }
            }
            
            if (points.length > 0) {
                const current = points[points.length - 1];
                
                ctx.shadowColor = colors.current;
                ctx.shadowBlur = 15;
                ctx.fillStyle = colors.current;
                ctx.beginPath();
                ctx.arc(current.x, current.y, 6, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.shadowBlur = 0;
            }
            
            ctx.restore();
        }
        
        // Animation loop
        function animate() {
            update();
            draw();
            requestAnimationFrame(animate);
        }
        
        // Control functions
        function resetSystem() {
            x = 0.1;
            y = 0;
            z = 0;
            points = [];
            rotationAngle = 0;
            dt = 0.01;
            updateAxisLabels();
        }
        
        function togglePause() {
            isPaused = !isPaused;
        }
        
        function changeColors() {
            colorScheme = (colorScheme + 1) % colorSchemes.length;
            updateAxisLabels();
        }
        
        function toggleRotation() {
            autoRotate = !autoRotate;
        }
        
        function increaseSpeed() {
            dt *= 1.5;
        }
        
        function decreaseSpeed() {
            dt /= 1.5;
        }
        
        function toggleAxes() {
            showAxes = !showAxes;
        }
        
        function randomStart() {
            x = (Math.random() - 0.5) * 20;
            y = (Math.random() - 0.5) * 20;
            z = (Math.random() - 0.5) * 20;
            points = [];
        }
        
        // Initialize everything
        setupSliders();
        updateAxisLabels();
        animate();
    </script>
</body>
</html>
